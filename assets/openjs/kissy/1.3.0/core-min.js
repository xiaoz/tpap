/*! caja-kissy 2013-09-11 */
KISSY.add("openjs/kissy/1.3.0/core",function(t){function n(n){function e(n){this.inner=t.all(n)}n.markCtor(t.Anim),n.grantMethod(t.Anim,"run"),n.grantMethod(t.Anim,"stop"),n.grantMethod(t.Anim,"isRunning"),n.grantMethod(t.Anim,"isPaused"),n.grantMethod(t.Anim,"pause"),n.grantMethod(t.Anim,"resume"),n.markCtor(e);var r="index getDOMNodes getDOMNode end equals add item slice scrollTop scrollLeft height width appendTo prependTo insertBefore insertAfter animate stop run pause resume isRunning isPaused show hide toggle fadeIn fadeOut fadeToggle slideDown slideUp slideToggle filter test clone empty replaceWith parent hasClass addClass removeClass replaceClass toggleClass val text each toggle offset scrollIntoView next prev first last siblings children contains remove  innerWidth innerHeight outerWidth outerHeight on delegate detach fire all len attr removeAttr hasAttr data hasData removeData".split(" "),o=t.EventObject||t.Event.DOMEventObject;n.markCtor(o),n.grantMethod(o,"halt"),n.grantMethod(o,"preventDefault"),n.grantMethod(o,"stopImmediatePropagation"),n.grantMethod(o,"stopPropagation");var i="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which axis type".split(" ");return t.each(i,function(t){n.grantRead(o.prototype,t)}),function(o){function i(n,e){var r=[];return e=e?i(e):[],r=t.isString(n)?t.query(n,e[0]||o.mod):t.query(n)}function a(t){return o.frame.imports.tameNode___(t,!0)}function s(){function t(n){return n.target&&(n.target=a(n.target)),n.relatedTarget&&(n.relatedTarget=a(n.relatedTarget)),n.currentTarget&&(n.currentTarget=a(n.currentTarget)),t.handle.call(this,n)}return t}var u=n.markFunction(function(n,e,r,o){var a=s();a.handle=r,r.__event_tag=r.__event_tag||[];var u=i(n);t.each(u,function(t){r.__event_tag.push({fn:a,el:t,scope:o||t})}),t.Event.on(u,e,a,o)}),c=n.markFunction(function(n,e,r,o,a){var u=s();u.handle=o,o.__event_tag=o.__event_tag||[];var c=i(n);t.each(c,function(t){o.__event_tag.push({fn:u,el:t,filter:r,scope:a||t})}),t.Event.delegate(c,e,r,u,a)}),p=n.markFunction(function(n,e,r,o){var a=i(n);if(r)for(var s=r.__event_tag||[],u=s.length-1;u>=0;u--){var c=s[u],p=o||c.el;c.scope===p&&t.inArray(c.el,a)&&(t.Event.remove(c.el,e,c.fn,o),s.splice(u,1))}else t.Event.remove(a,e)});return e.prototype.on=function(t,n,e){var r=this,o=r.inner.getDOMNodes();return u(o,t,n,e),this},e.prototype.delegate=function(t,n,e,r){var o=this,i=o.inner.inner.getDOMNodes();return c(i,t,e,r),this},e.prototype.detach=function(t,n,e){var r=this,o=r.inner.getDOMNodes();return p(o,t,n,e),this},e.prototype.getDOMNodes=function(){var n=[];return t.each(this.inner.getDOMNodes(),function(t){n.push(a(t))}),n},e.prototype.getDOMNode=function(){return a(this.inner.getDOMNode())},e.prototype.each=function(t){return this.inner.each(function(n,r){t.call(e,new e(n),r)}),this},e.prototype.slice=function(t,n){return new e(this.inner.slice(t,n))},e.prototype.stop=function(){return this.inner.stop.apply(this.inner,arguments),this},e.prototype.remove=function(){return this.inner.remove(),this},e.prototype.scrollIntoView=function(){var n=t.makeArray(arguments);return n[2]&&(n[2]=i(n[2])),this.inner.scrollIntoView.apply(this.inner,n),this},e.prototype.val=function(){return void 0!==arguments[0]?(this.inner.val(arguments[0]),this):this.inner.val()},e.prototype.text=function(){return arguments[0]?(this.inner.text(arguments[0]),this):this.inner.text()},e.prototype.offset=function(){return this.inner.offset()},e.prototype.replaceWith=function(t){return t.inner?this.inner.replaceWith(t.inner):this.inner.replaceWith(i(t)),this},e.prototype.empty=function(){return this.inner.empty(),this},t.each("appendTo prependTo insertBefore insertAfter".split(" "),function(t){e.prototype[t]=function(n){return this.inner[t](i(n.inner)),this}}),e.prototype.data=function(t,n){return void 0===n?this.inner.data(t):(this.inner.data(t,cajaAFTB.untame(n)),this)},e.prototype.removeData=function(t){return this.inner.removeData(t),this},e.prototype.hasData=function(t,n){return this.inner.hasData(t,cajaAFTB.untame(n))},e.prototype.add=function(t){return t.inner?new e(this.inner.add(t.inner)):new e(this.inner.add(i(t)))},e.prototype.parent=function(n){if(n=n||1,t.isNumber(n)||t.isString(n)){var r=this.inner.parent(n);return t.one(o.mod).contains(r)?new e(r):new e(o.mod)}return t.log("only string or number is supported"),this},e.prototype.attr=function(n,e){return t.startsWith(n,"data-")?void 0===e?this.inner.attr(n):(this.inner.attr(n,e),this):(t.log("data-\ufffd\ufffd\u0377\ufffd\ufffd\u03b1\ufffd\ufffd\ufffd\u0532\u0171\ufffd\u05a7\ufffd\ufffd!"),void 0)},e.prototype.removeAttr=function(n){return t.startsWith(n,"data-")?(this.inner.removeAttr(n),this):(t.log("data-\ufffd\ufffd\u0377\ufffd\ufffd\u03b1\ufffd\ufffd\ufffd\u0532\u0171\ufffd\u05a7\ufffd\ufffd!"),void 0)},e.prototype.hasAttr=function(n,e,r){return t.isString(e)&&t.startsWith(e,"data-")?this.inner.hasAttr(i(n),e,cajaAFTB.untame(r)):void 0},t.each("filter next prev first last siblings children".split(" "),function(n){e.prototype[n]=function(r){return t.isFunction(r)?(t.log("filter\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u05b7\ufffd\ufffd\ufffd"),this):new e(this.inner[n](r))}}),e.prototype.len=function(){return this.inner.length},e.prototype.scrollTop=function(t){return this.inner.scrollTop(t)},e.prototype.innerWidth=function(){return this.inner.innerWidth()},e.prototype.innerHeight=function(){return this.inner.innerHeight()},e.prototype.outerWidth=function(){return this.inner.outerWidth()},e.prototype.outerHeight=function(){return this.inner.outerHeight()},e.prototype.pause=function(t){return this.inner.pause(t),this},e.prototype.isPaused=function(){return this.inner.isPaused()},e.prototype.isRunning=function(){return this.inner.isRunning()},e.prototype.resume=function(t){return this.inner.resume(t),this},e.prototype.isPaused=function(){return this.inner.isPaused()},e.prototype.contains=function(t){return t.inner?this.inner.contains(t.inner):this.inner.contains(i(t))},e.prototype.scrollLeft=function(t){return this.inner.scrollLeft(t)},e.prototype.height=function(t){return this.inner.height(t)},e.prototype.width=function(t){return this.inner.width(t)},e.prototype.fire=function(){return this.inner.fire.apply(this.inner,arguments),this},t.each("show hide toggle fadeIn fadeOut fadeToggle slideDown slideUp slideToggle".split(" "),function(t){e.prototype[t]=function(){return this.inner[t].apply(this.inner,arguments),this}}),e.prototype.animate=function(){var n=t.makeArray(arguments);return t.isObject(n[0])&&(n[0]=cajaAFTB.untame(n[0])),this.inner.animate(n[0],n[1],n[2],n[3]),this},e.prototype.addClass=function(t){return this.inner.addClass(t),this},e.prototype.hasClass=function(t){return this.inner.hasClass(t)},e.prototype.removeClass=function(t){return this.inner.removeClass(t),this},e.prototype.toggleClass=function(t){return this.inner.toggleClass(t),this},e.prototype.replaceClass=function(t,n){return this.inner.replaceClass(t,n),this},e.prototype.equals=function(t){return this.inner.equals(t.inner)},e.prototype.all=function(t){return new e(this.inner.all(t))},e.prototype.end=function(){return this.inner.end(),this},e.prototype.item=function(t){return new e(this.inner.item(t))},e.prototype.index=function(){return this.inner.index(arguments[0])},e.prototype.clone=function(){return new e(this.inner.clone.apply(this.inner,arguments))},e.prototype.test=function(n){return t.isFunction(n)?(this.inner.test(function(t,e){return n(a(t),e)}),void 0):this.inner.test(n,o.mod)},t.each(r,function(t){n.grantMethod(e,t)}),{unparam:n.markFunction(function(n){return t.unparam(n)}),param:n.markFunction(function(n,e,r,o){return t.param(cajaAFTB.untame(n),e,r,o)}),unEscapeHTML:n.markFunction(function(n){return t.unEscapeHTML(n)}),escapeHTML:n.markFunction(function(n){return t.escapeHTML(n)}),substitute:n.markFunction(function(n,e){return t.substitute(n,cajaAFTB.untame(e))}),DOM:{get:n.markFunction(function(t,n){var e=i(t,n);return a(e[0],!0)}),query:n.markFunction(function(n,e){var r=i(n,e);return t.each(r,function(t,n){r[n]=a(t,!0)}),r}),text:n.markFunction(function(n,e){return t.DOM.text(i(n),e)}),offset:n.markFunction(function(n,e){return t.DOM.offset(i(n),e)}),css:n.markFunction(function(n,e){return t.DOM.css(i(n),e)}),hasClass:n.markFunction(function(n,e){return t.DOM.hasClass(i(n),e)}),addClass:n.markFunction(function(n,e){return t.DOM.addClass(i(n),e)}),removeClass:n.markFunction(function(n,e){return t.DOM.removeClass(i(n),e)}),toggleClass:n.markFunction(function(n,e){return t.DOM.toggleClass(i(n),e)}),replaceClass:n.markFunction(function(n,e,r){return t.DOM.replaceClass(i(n),e,r)}),data:n.markFunction(function(n,e,r){return t.DOM.data(i(n),e,cajaAFTB.untame(r))}),hasData:n.markFunction(function(n,e){return t.DOM.hasData(i(n),e)}),removeData:n.markFunction(function(n,e){return t.DOM.removeData(i(n),e)}),attr:n.markFunction(function(n,e,r){return t.isString(e)&&t.startsWith(e,"data-")?t.DOM.attr(i(n),e,r):void 0}),hasAttr:n.markFunction(function(n,e){return t.DOM.hasAttr(i(n),e)}),removeAttr:n.markFunction(function(n,e){return t.isString(e)&&t.startsWith(e,"data-")?t.DOM.removeAttr(i(n),e):void 0})},io:n.markFunction(function(n){var e=cajaAFTB.untame(n);e.data=cajaAFTB.untame(e.data);var r=e.url;return"/"!==r.charAt(0)&&(r=cajaAFTB.rewriteURL(r,null,null,{XML_ATTR:"href"})),"json"!==e.dataType&&"jsonp"!==e.dataType&&(e.dataType="jsonp"),r?t.io(t.mix(e)):function(){t.log("url \ufffd\ufffd\ufffd\u06b0\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd.")}}),UA:t.clone(t.UA),log:n.markFunction(function(){t.log.apply(t,arguments)}),Event:{add:u,on:u,remove:p,detach:p,delegate:c,fire:n.markFunction(function(n,e){t.Event.fire(i(n),e)})},Anim:n.markFunction(function(){var n=t.makeArray(arguments);return n[0]=i(n[0])[0],t.isObject(n[1])&&(n[1]=cajaAFTB.untame(n[1])),t.Anim.apply(window,n)}),JSON:{parse:n.markFunction(function(n){return t.JSON.parse(n)}),stringify:n.markFunction(function(n){return t.JSON.stringify(cajaAFTB.untame(n))})},all:n.markFunction(function(){return new e(i(arguments[0]))}),alert:n.markFunction(function(t){alert(t)}),kissy:!0}}}return t.DOM,t.Event,n},{requires:["core"]});